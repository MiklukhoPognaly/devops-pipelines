folder('production-pipelines') {
    displayName('Production pipelines')
    description('Folder for production pipelines')
}

folder('test-pipelines') {
    displayName('Development and test')
    description('Folder for test pipelines')
}

pipelineJob('test-pipelines/middleware') {
    description('Pipelines for build, test and deploy vacation_planner middleware part')

     properties {
        githubProjectUrl('https://github.com/ugamon/vacation_planner')
    }

  	triggers {

       	githubPush()
    }

  	definition {
        cpsScm {

                  lightweight(true)

          		  scm {
                  		github('ugamon/devops-pipelines', 'master')
                  }

          		  scriptPath('Main')
               }
    }
}


pipelineJob('production-pipelines/middleware') {
    description('Pipelines for build, test and deploy vacation_planner middleware part')

     properties {
        githubProjectUrl('https://github.com/ugamon/vacation_planner')
    }

  	triggers {

       	githubPush()
    }

  	definition {
        cpsScm {

                  lightweight(true)

          		  scm {
                  		github('ugamon/devops-pipelines', 'master')
                  }

          		  scriptPath('Main')
               }
    }
}